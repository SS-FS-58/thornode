version: '3'

services:
  thornode:
    hostname: thornode
    environment:
      - NODE_ID: ${NODE_ID}
      - MASTER_API: ${MASTER_API}
      - GENESIS_URL: ${GENESIS_URL}
    build:
      context: ../genesis_ceremony
      dockerfile: ../genesis_ceremony/Dockerfile
    image: thornode
    entrypoint:
      /build/entrypoint.sh
    volumes:
      - .:/build
    command: ["supervisord", "-c", "/etc/supervisor.conf"]
